pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
complex={}
function complex:new(real,imag)
  local value={
    real=real,imag=imag
  }
		local meta={
		  __index=complex,
		  __add=function(x,y)
		    return setmetatable(
		    {real=x.real+y.real,
		     imag=x.imag+y.imag},
		    getmetatable(x))
		  end
		}
  return setmetatable(
    value,meta
  )
end
function complex:tostring()
  return self.real
  ..","..self.imag
end

-->8
function _init()
	z1=complex:new(-1,3)
	z2=complex:new(3,0)
	z3=z1+z2
	u=1
	d=1
	x=10
	y=10
end

function _update()
  printh("update "..u)
  u=u+1
  x=x+1
  if x>127 then x=-10 end
end

function _draw()
	cls(1)
	print(z3:tostring(),x,y,4)
	printh("draw "..d)
	d=d+1
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
